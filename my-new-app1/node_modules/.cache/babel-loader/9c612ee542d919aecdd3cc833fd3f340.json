{"ast":null,"code":"import \"antd-mobile/lib/picker/style/css\";\nimport _Picker from \"antd-mobile/lib/picker\";\nimport \"antd-mobile/lib/list/style/css\";\nimport _List from \"antd-mobile/lib/list\";\nimport \"antd-mobile/lib/white-space/style/css\";\nimport _WhiteSpace from \"antd-mobile/lib/white-space\";\nimport _objectSpread from \"D:\\\\html3\\\\lianxi\\\\react\\\\my-new-app1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"D:\\\\html3\\\\lianxi\\\\react\\\\my-new-app1\\\\src\\\\layouts\\\\Picker.js\";\nimport { createForm } from 'rc-form';\nimport arrayTreeFilter from 'array-tree-filter';\nimport React from 'react';\nimport { district, provinceLite } from 'antd-mobile-demo-data'; // 如果不是使用 List.Item 作为 children\n\nconst CustomChildren = props => React.createElement(\"div\", {\n  onClick: props.onClick,\n  style: {\n    backgroundColor: '#fff',\n    paddingLeft: 15\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, React.createElement(\"div\", {\n  className: \"test\",\n  style: {\n    display: 'flex',\n    height: '45px',\n    lineHeight: '45px'\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13\n  },\n  __self: this\n}, React.createElement(\"div\", {\n  style: {\n    flex: 1,\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap'\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n}, props.children), React.createElement(\"div\", {\n  style: {\n    textAlign: 'right',\n    color: '#888',\n    marginRight: 15\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, props.extra)));\n\nconst seasons = [[{\n  label: '2013',\n  value: '2013'\n}, {\n  label: '2014',\n  value: '2014'\n}], [{\n  label: '春',\n  value: '春'\n}, {\n  label: '夏',\n  value: '夏'\n}]];\nconst colorStyle = {\n  display: 'inline-block',\n  verticalAlign: 'middle',\n  width: '16px',\n  height: '16px',\n  marginRight: '10px'\n};\nconst colors = [{\n  label: React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: _objectSpread({}, colorStyle, {\n      backgroundColor: '#FF0000'\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"\\u7EA2\\u8272\")),\n  value: '#FF0000'\n}, {\n  label: React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: _objectSpread({}, colorStyle, {\n      backgroundColor: '#00FF00'\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"\\u7EFF\\u8272\")),\n  value: '#00FF00'\n}, {\n  label: React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: _objectSpread({}, colorStyle, {\n      backgroundColor: '#0000FF'\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"\\u84DD\\u8272\")),\n  value: '#0000FF'\n}];\n\nclass Test extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      cols: 1,\n      pickerValue: [],\n      asyncValue: [],\n      sValue: ['2013', '春'],\n      visible: false,\n      colorValue: ['#00FF00']\n    };\n\n    this.onClick = () => {\n      setTimeout(() => {\n        this.setState({\n          data: provinceLite\n        });\n      }, 120);\n    };\n\n    this.onPickerChange = val => {\n      console.log(val);\n      let colNum = 1;\n      const d = [...this.state.data];\n      const asyncValue = [...val];\n\n      if (val[0] === 'zj') {\n        d.forEach(i => {\n          if (i.value === 'zj') {\n            colNum = 2;\n\n            if (!i.children) {\n              i.children = [{\n                value: 'zj-nb',\n                label: '宁波'\n              }, {\n                value: 'zj-hz',\n                label: '杭州'\n              }];\n              asyncValue.push('zj-nb');\n            } else if (val[1] === 'zj-hz') {\n              i.children.forEach(j => {\n                if (j.value === 'zj-hz') {\n                  j.children = [{\n                    value: 'zj-hz-xh',\n                    label: '西湖区'\n                  }];\n                  asyncValue.push('zj-hz-xh');\n                }\n              });\n              colNum = 3;\n            }\n          }\n        });\n      } else {\n        colNum = 1;\n      }\n\n      this.setState({\n        data: d,\n        cols: colNum,\n        asyncValue\n      });\n    };\n\n    this.onChangeColor = color => {\n      this.setState({\n        colorValue: color\n      });\n    };\n  }\n\n  getSel() {\n    const value = this.state.pickerValue;\n\n    if (!value) {\n      return '';\n    }\n\n    const treeChildren = arrayTreeFilter(district, (c, level) => c.value === value[level]);\n    return treeChildren.map(v => v.label).join(',');\n  } // setVal() {\n  //   this.props.form.setFieldsValue({\n  //     district: ['340000', '340800', '340822'],\n  //   });\n  // },\n\n\n  render() {\n    const getFieldProps = this.props.form.getFieldProps;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(_WhiteSpace, {\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(_List, {\n      style: {\n        backgroundColor: 'white'\n      },\n      className: \"picker-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(_Picker, Object.assign({\n      extra: \"\\u8BF7\\u9009\\u62E9(\\u53EF\\u9009)\",\n      data: district,\n      title: \"Areas\"\n    }, getFieldProps('district', {\n      initialValue: ['340000', '341500', '341502']\n    }), {\n      onOk: e => console.log('ok', e),\n      onDismiss: e => console.log('dismiss', e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(_List.Item, {\n      arrow: \"horizontal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Multiple & cascader\")), React.createElement(_Picker, {\n      data: seasons,\n      title: \"\\u9009\\u62E9\\u5B63\\u8282\",\n      cascade: false,\n      extra: \"\\u8BF7\\u9009\\u62E9(\\u53EF\\u9009)\",\n      value: this.state.sValue,\n      onChange: v => this.setState({\n        sValue: v\n      }),\n      onOk: v => this.setState({\n        sValue: v\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(_List.Item, {\n      arrow: \"horizontal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Multiple\")), React.createElement(_Picker, Object.assign({\n      data: district,\n      cols: 1\n    }, getFieldProps('district3'), {\n      className: \"forss\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(_List.Item, {\n      arrow: \"horizontal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Single\")), React.createElement(_Picker, {\n      data: this.state.data,\n      cols: this.state.cols,\n      value: this.state.asyncValue,\n      onPickerChange: this.onPickerChange,\n      onOk: v => console.log(v),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(_List.Item, {\n      arrow: \"horizontal\",\n      onClick: this.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Multiple & async\")), React.createElement(_Picker, {\n      title: \"\\u9009\\u62E9\\u5730\\u533A\",\n      extra: \"\\u8BF7\\u9009\\u62E9(\\u53EF\\u9009)\",\n      data: district,\n      value: this.state.pickerValue,\n      onChange: v => this.setState({\n        pickerValue: v\n      }),\n      onOk: v => this.setState({\n        pickerValue: v\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(CustomChildren, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Customized children\")), React.createElement(_Picker, {\n      visible: this.state.visible,\n      data: district,\n      value: this.state.pickerValue,\n      onChange: v => this.setState({\n        pickerValue: v\n      }),\n      onOk: () => this.setState({\n        visible: false\n      }),\n      onDismiss: () => this.setState({\n        visible: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(_List.Item, {\n      extra: this.getSel(),\n      onClick: () => this.setState({\n        visible: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Visible state\")), React.createElement(_Picker, {\n      data: colors,\n      value: this.state.colorValue,\n      cols: 1,\n      onChange: this.onChangeColor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(_List.Item, {\n      arrow: \"horizontal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"Complex Labels\"))));\n  }\n\n}\n\nconst TestWrapper = createForm()(Test);\nReactDOM.render(React.createElement(TestWrapper, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 238\n  },\n  __self: this\n}), mountNode);","map":{"version":3,"sources":["D:\\html3\\lianxi\\react\\my-new-app1\\src\\layouts\\Picker.js"],"names":["createForm","arrayTreeFilter","React","district","provinceLite","CustomChildren","props","onClick","backgroundColor","paddingLeft","display","height","lineHeight","flex","overflow","textOverflow","whiteSpace","children","textAlign","color","marginRight","extra","seasons","label","value","colorStyle","verticalAlign","width","colors","Test","Component","state","data","cols","pickerValue","asyncValue","sValue","visible","colorValue","setTimeout","setState","onPickerChange","val","console","log","colNum","d","forEach","i","push","j","onChangeColor","getSel","treeChildren","c","level","map","v","join","render","getFieldProps","form","initialValue","e","TestWrapper","ReactDOM","mountNode"],"mappings":"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","sourcesContent":["import { Picker, List, WhiteSpace } from 'antd-mobile';\r\nimport { createForm } from 'rc-form';\r\nimport arrayTreeFilter from 'array-tree-filter';\r\nimport React from 'react';\r\nimport { district, provinceLite } from 'antd-mobile-demo-data';\r\n\r\n// 如果不是使用 List.Item 作为 children\r\nconst CustomChildren = props => (\r\n    <div\r\n        onClick={props.onClick}\r\n        style={{ backgroundColor: '#fff', paddingLeft: 15 }}\r\n    >\r\n        <div className=\"test\" style={{ display: 'flex', height: '45px', lineHeight: '45px' }}>\r\n            <div style={{ flex: 1, overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{props.children}</div>\r\n            <div style={{ textAlign: 'right', color: '#888', marginRight: 15 }}>{props.extra}</div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst seasons = [\r\n    [\r\n        {\r\n            label: '2013',\r\n            value: '2013',\r\n        },\r\n        {\r\n            label: '2014',\r\n            value: '2014',\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            label: '春',\r\n            value: '春',\r\n        },\r\n        {\r\n            label: '夏',\r\n            value: '夏',\r\n        },\r\n    ],\r\n];\r\n\r\nconst colorStyle = {\r\n    display: 'inline-block',\r\n    verticalAlign: 'middle',\r\n    width: '16px',\r\n    height: '16px',\r\n    marginRight: '10px',\r\n};\r\n\r\nconst colors = [\r\n    {\r\n        label:\r\n            (<div>\r\n      <span\r\n          style={{ ...colorStyle, backgroundColor: '#FF0000' }}\r\n      />\r\n                <span>红色</span>\r\n            </div>),\r\n        value: '#FF0000',\r\n    },\r\n    {\r\n        label:\r\n            (<div>\r\n      <span\r\n          style={{ ...colorStyle, backgroundColor: '#00FF00' }}\r\n      />\r\n                <span>绿色</span>\r\n            </div>),\r\n        value: '#00FF00',\r\n    },\r\n    {\r\n        label:\r\n            (<div>\r\n      <span\r\n          style={{ ...colorStyle, backgroundColor: '#0000FF' }}\r\n      />\r\n                <span>蓝色</span>\r\n            </div>),\r\n        value: '#0000FF',\r\n    },\r\n];\r\n\r\nclass Test extends React.Component {\r\n    state = {\r\n        data: [],\r\n        cols: 1,\r\n        pickerValue: [],\r\n        asyncValue: [],\r\n        sValue: ['2013', '春'],\r\n        visible: false,\r\n        colorValue: ['#00FF00'],\r\n    };\r\n    onClick = () => {\r\n        setTimeout(() => {\r\n            this.setState({\r\n                data: provinceLite,\r\n            });\r\n        }, 120);\r\n    };\r\n    onPickerChange = (val) => {\r\n        console.log(val);\r\n        let colNum = 1;\r\n        const d = [...this.state.data];\r\n        const asyncValue = [...val];\r\n        if (val[0] === 'zj') {\r\n            d.forEach((i) => {\r\n                if (i.value === 'zj') {\r\n                    colNum = 2;\r\n                    if (!i.children) {\r\n                        i.children = [{\r\n                            value: 'zj-nb',\r\n                            label: '宁波',\r\n                        }, {\r\n                            value: 'zj-hz',\r\n                            label: '杭州',\r\n                        }];\r\n                        asyncValue.push('zj-nb');\r\n                    } else if (val[1] === 'zj-hz') {\r\n                        i.children.forEach((j) => {\r\n                            if (j.value === 'zj-hz') {\r\n                                j.children = [{\r\n                                    value: 'zj-hz-xh',\r\n                                    label: '西湖区',\r\n                                }];\r\n                                asyncValue.push('zj-hz-xh');\r\n                            }\r\n                        });\r\n                        colNum = 3;\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            colNum = 1;\r\n        }\r\n        this.setState({\r\n            data: d,\r\n            cols: colNum,\r\n            asyncValue,\r\n        });\r\n    };\r\n    getSel() {\r\n        const value = this.state.pickerValue;\r\n        if (!value) {\r\n            return '';\r\n        }\r\n        const treeChildren = arrayTreeFilter(district, (c, level) => c.value === value[level]);\r\n        return treeChildren.map(v => v.label).join(',');\r\n    }\r\n    // setVal() {\r\n    //   this.props.form.setFieldsValue({\r\n    //     district: ['340000', '340800', '340822'],\r\n    //   });\r\n    // },\r\n\r\n    onChangeColor = (color) => {\r\n        this.setState({\r\n            colorValue: color,\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { getFieldProps } = this.props.form;\r\n        return (<div>\r\n            <WhiteSpace size=\"lg\" />\r\n            <List style={{ backgroundColor: 'white' }} className=\"picker-list\">\r\n                <Picker extra=\"请选择(可选)\"\r\n                        data={district}\r\n                        title=\"Areas\"\r\n                        {...getFieldProps('district', {\r\n                            initialValue: ['340000', '341500', '341502'],\r\n                        })}\r\n                        onOk={e => console.log('ok', e)}\r\n                        onDismiss={e => console.log('dismiss', e)}\r\n                >\r\n                    <List.Item arrow=\"horizontal\">Multiple & cascader</List.Item>\r\n                </Picker>\r\n                <Picker\r\n                    data={seasons}\r\n                    title=\"选择季节\"\r\n                    cascade={false}\r\n                    extra=\"请选择(可选)\"\r\n                    value={this.state.sValue}\r\n                    onChange={v => this.setState({ sValue: v })}\r\n                    onOk={v => this.setState({ sValue: v })}\r\n                >\r\n                    <List.Item arrow=\"horizontal\">Multiple</List.Item>\r\n                </Picker>\r\n                <Picker data={district} cols={1} {...getFieldProps('district3')} className=\"forss\">\r\n                    <List.Item arrow=\"horizontal\">Single</List.Item>\r\n                </Picker>\r\n                <Picker\r\n                    data={this.state.data}\r\n                    cols={this.state.cols}\r\n                    value={this.state.asyncValue}\r\n                    onPickerChange={this.onPickerChange}\r\n                    onOk={v => console.log(v)}\r\n                >\r\n                    <List.Item arrow=\"horizontal\" onClick={this.onClick}>Multiple & async</List.Item>\r\n                </Picker>\r\n                <Picker\r\n                    title=\"选择地区\"\r\n                    extra=\"请选择(可选)\"\r\n                    data={district}\r\n                    value={this.state.pickerValue}\r\n                    onChange={v => this.setState({ pickerValue: v })}\r\n                    onOk={v => this.setState({ pickerValue: v })}\r\n                >\r\n                    <CustomChildren>Customized children</CustomChildren>\r\n                </Picker>\r\n                <Picker\r\n                    visible={this.state.visible}\r\n                    data={district}\r\n                    value={this.state.pickerValue}\r\n                    onChange={v => this.setState({ pickerValue: v })}\r\n                    onOk={() => this.setState({ visible: false })}\r\n                    onDismiss={() => this.setState({ visible: false })}\r\n                >\r\n                    <List.Item extra={this.getSel()} onClick={() => this.setState({ visible: true })}>\r\n                        Visible state\r\n                    </List.Item>\r\n                </Picker>\r\n                <Picker\r\n                    data={colors}\r\n                    value={this.state.colorValue}\r\n                    cols={1}\r\n                    onChange={this.onChangeColor}\r\n                >\r\n                    <List.Item arrow=\"horizontal\">Complex Labels</List.Item>\r\n                </Picker>\r\n            </List>\r\n        </div>);\r\n    }\r\n}\r\n\r\nconst TestWrapper = createForm()(Test);\r\n\r\nReactDOM.render(<TestWrapper />, mountNode);"]},"metadata":{},"sourceType":"module"}