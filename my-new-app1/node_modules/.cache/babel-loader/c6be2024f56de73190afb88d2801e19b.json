{"ast":null,"code":"import \"antd-mobile/lib/toast/style/css\";\nimport _Toast from \"antd-mobile/lib/toast\";\nvar _jsxFileName = \"D:\\\\html3\\\\lianxi\\\\react\\\\my-new-app1\\\\src\\\\pages\\\\Login.js\";\nimport React, { Component } from 'react';\nimport '../assets/css/login.scss';\nimport axios from '../utils/axios';\nimport * as types from \"../../../../react-modo/code_0717/src/store/types\";\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      msg: \"\"\n    };\n\n    this.login = () => {\n      axios({\n        url: '/mock/login',\n        method: 'POST',\n        data: {\n          username: this.state.username,\n          password: this.state.password\n        }\n      }).then(res => {\n        console.log(res);\n\n        if (res.data.error === 0) {\n          _Toast.success('登录成功', 1);\n\n          setTimeout(() => {\n            this.props.history.push('/home');\n          }, 300);\n          this.props.history.push('/user');\n        } else {\n          this.setState({\n            msg: \"登录失败\"\n          });\n\n          _Toast.fail('登录失败', 1);\n        }\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"\\u767B\\u5F55\"), React.createElement(\"div\", {\n      className: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"\\u8D26\\u53F7:\", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.username,\n      onChange: ev => this.setState({\n        username: ev.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"\\u5BC6\\u7801:\", React.createElement(\"input\", {\n      type: \"password\",\n      value: this.state.password,\n      onChange: ev => this.setState({\n        password: ev.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      value: \"\\u63D0\\u4EA4\",\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"\\u5FD8\\u8BB0\\u5BC6\\u7801\")));\n  }\n\n}","map":{"version":3,"sources":["D:\\html3\\lianxi\\react\\my-new-app1\\src\\pages\\Login.js"],"names":["React","Component","axios","types","Login","state","username","password","msg","login","url","method","data","then","res","console","log","error","success","setTimeout","props","history","push","setState","fail","render","ev","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAO,0BAAP;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAEA,OAAO,KAAKC,KAAZ,MAAuB,kDAAvB;AAGA,eAAe,MAAMC,KAAN,SAAoBH,SAApB,CAA6B;AAAA;AAAA;AAAA,SACxCI,KADwC,GAClC;AACFC,MAAAA,QAAQ,EAAC,EADP;AAEFC,MAAAA,QAAQ,EAAC,EAFP;AAGFC,MAAAA,GAAG,EAAC;AAHF,KADkC;;AAAA,SAMxCC,KANwC,GAMhC,MAAI;AACRP,MAAAA,KAAK,CAAC;AACFQ,QAAAA,GAAG,EAAC,aADF;AAEFC,QAAAA,MAAM,EAAC,MAFL;AAKFC,QAAAA,IAAI,EAAC;AAACN,UAAAA,QAAQ,EAAC,KAAKD,KAAL,CAAWC,QAArB;AAA8BC,UAAAA,QAAQ,EAAC,KAAKF,KAAL,CAAWE;AAAlD;AALH,OAAD,CAAL,CAMGM,IANH,CAOIC,GAAG,IAAG;AACFC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,YAAGA,GAAG,CAACF,IAAJ,CAASK,KAAT,KAAiB,CAApB,EAAsB;AAClB,iBAAMC,OAAN,CAAc,MAAd,EAAsB,CAAtB;;AACAC,UAAAA,UAAU,CAAC,MAAI;AACX,iBAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACH,WAFS,EAER,GAFQ,CAAV;AAIA,eAAKF,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACH,SAPD,MAOK;AACD,eAAKC,QAAL,CAAc;AAACf,YAAAA,GAAG,EAAC;AAAL,WAAd;;AAEI,iBAAMgB,IAAN,CAAW,MAAX,EAAmB,CAAnB;AAGP;AACJ,OAvBL;AAyBH,KAhCuC;AAAA;;AAkCxCC,EAAAA,MAAM,GAAE;AACJ,WACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWC,QAArC;AAAgD,MAAA,QAAQ,EAAGoB,EAAD,IAAM,KAAKH,QAAL,CAAc;AAACjB,QAAAA,QAAQ,EAACoB,EAAE,CAACC,MAAH,CAAUC;AAApB,OAAd,CAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAFJ,EAMI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,KAAK,EAAE,KAAKvB,KAAL,CAAWE,QAAzC;AAAmD,MAAA,QAAQ,EAAGmB,EAAD,IAAM,KAAKH,QAAL,CAAc;AAAChB,QAAAA,QAAQ,EAACmB,EAAE,CAACC,MAAH,CAAUC;AAApB,OAAd,CAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CANJ,EAUI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,cAA3B;AAAgC,MAAA,OAAO,EAAE,KAAKnB,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFJ,CAVJ,CADJ;AAkBH;;AArDuC","sourcesContent":["import React,{Component} from 'react';\r\nimport '../assets/css/login.scss'\r\nimport axios from '../utils/axios';\r\nimport { Toast, WingBlank} from 'antd-mobile';\r\nimport * as types from \"../../../../react-modo/code_0717/src/store/types\";\r\n\r\n\r\nexport default class Login extends Component{\r\n    state={\r\n        username:\"\",\r\n        password:\"\",\r\n        msg:\"\"\r\n    };\r\n    login = ()=>{\r\n        axios({\r\n            url:'/mock/login',\r\n            method:'POST',\r\n\r\n            \r\n            data:{username:this.state.username,password:this.state.password}\r\n        }).then(\r\n            res =>{\r\n                console.log(res)\r\n                if(res.data.error===0){\r\n                    Toast.success('登录成功', 1);\r\n                    setTimeout(()=>{\r\n                        this.props.history.push('/home')\r\n                    },300)\r\n\r\n                    this.props.history.push('/user')\r\n                }else{\r\n                    this.setState({msg:\"登录失败\"})\r\n                    \r\n                        Toast.fail('登录失败', 1);\r\n\r\n\r\n                }\r\n            }\r\n        )\r\n    };\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"login\">\r\n                <div className=\"title\">登录</div>\r\n                <div className=\"user\">\r\n                    账号:\r\n                    <input type=\"text\" value={this.state.username}  onChange={(ev)=>this.setState({username:ev.target.value})}/>\r\n                </div>\r\n                <div className=\"password\">\r\n                    密码:\r\n                    <input type=\"password\" value={this.state.password} onChange={(ev)=>this.setState({password:ev.target.value})}/>\r\n                </div>\r\n                <div className=\"btn\">\r\n                    <input type=\"button\" value=\"提交\" onClick={this.login}/>\r\n                    <a href=\"#\">忘记密码</a>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}