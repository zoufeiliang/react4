{"ast":null,"code":"var _jsxFileName = \"D:\\\\html3\\\\lianxi\\\\react\\\\my-new-app1\\\\src\\\\layouts\\\\APP.js\";\nimport React, { Component } from 'react';\nimport { Link, NavLink, Route, Redirect, Switch } from \"react-router-dom\"; //import '../library/font'\n\nimport '../assets/css/base.css';\nimport Header from './Header';\nimport Footer from \"./Footer\";\nimport '../assets/css/app.scss';\nimport AuthUser from '../routes/authuser';\nimport Home from \"../pages/Home\";\nimport Follow from \"../pages/Follow\";\nimport Column from \"../pages/Column\";\nimport Login from \"../pages/Login\";\nimport Reg from \"../pages/Reg\";\nimport User from \"../pages/User\";\nimport Detail from \"../pages/Detail\";\nimport ErrorPage from \"../pages/ErrorPage\";\nimport Loading from \"../component/Loading/Loading\";\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      header: true,\n      footer: true,\n      loading: false\n    };\n  }\n\n  checkPath(path) {\n    if (/Home/.test(path)) {\n      this.setState({\n        header: true,\n        footer: true\n      });\n    }\n\n    if (/[^home$]/.test(path)) {\n      this.setState({\n        header: false,\n        footer: false\n      });\n    }\n\n    if (/User|Follow|Column/.test(path)) {\n      this.setState({\n        header: false,\n        footer: true\n      });\n    }\n\n    if (/Detail/.test(path)) {\n      this.setState({\n        header: true,\n        footer: false\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log('app', nextProps.location.pathname); //监听路由\n\n    let path = nextProps.location.pathname;\n    this.checkPath(path);\n  }\n\n  componentDidMount() {\n    let path = this.props.location.pathname;\n    this.checkPath(path);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, this.state.loading && React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), this.state.header && React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/home\",\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/follow\",\n      component: Follow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/column\",\n      component: Column,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/Reg\",\n      component: Reg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(AuthUser, {\n      Route: true,\n      path: \"/user\",\n      component: User,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/follow\",\n      component: Follow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/detail:id\",\n      component: Detail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Redirect, {\n      exact: true,\n      from: \"/\",\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(Route, {\n      component: ErrorPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), this.state.footer && React.createElement(Footer, {\n      history: this.props.history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["D:\\html3\\lianxi\\react\\my-new-app1\\src\\layouts\\APP.js"],"names":["React","Component","Link","NavLink","Route","Redirect","Switch","Header","Footer","AuthUser","Home","Follow","Column","Login","Reg","User","Detail","ErrorPage","Loading","App","state","header","footer","loading","checkPath","path","test","setState","componentWillReceiveProps","nextProps","console","log","location","pathname","componentDidMount","props","render","history"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,IAAR,EAAaC,OAAb,EAAqBC,KAArB,EAA2BC,QAA3B,EAAoCC,MAApC,QAAiD,kBAAjD,C,CAEA;;AACA,OAAO,wBAAP;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,wBAAP;AAGA,OAAOC,QAAP,MAAqB,oBAArB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AAEA,eAAe,MAAMC,GAAN,SAAkBlB,SAAlB,CAA2B;AAAA;AAAA;AAAA,SACtCmB,KADsC,GAC9B;AACJC,MAAAA,MAAM,EAAC,IADH;AAEJC,MAAAA,MAAM,EAAC,IAFH;AAGJC,MAAAA,OAAO,EAAC;AAHJ,KAD8B;AAAA;;AAOtCC,EAAAA,SAAS,CAACC,IAAD,EAAM;AACX,QAAI,OAAOC,IAAP,CAAYD,IAAZ,CAAJ,EAAsB;AAClB,WAAKE,QAAL,CAAc;AAACN,QAAAA,MAAM,EAAC,IAAR;AAAaC,QAAAA,MAAM,EAAC;AAApB,OAAd;AACH;;AACD,QAAI,WAAWI,IAAX,CAAgBD,IAAhB,CAAJ,EAA0B;AACtB,WAAKE,QAAL,CAAc;AAACN,QAAAA,MAAM,EAAC,KAAR;AAAcC,QAAAA,MAAM,EAAC;AAArB,OAAd;AACH;;AACD,QAAI,qBAAqBI,IAArB,CAA0BD,IAA1B,CAAJ,EAAqC;AACjC,WAAKE,QAAL,CAAc;AAACN,QAAAA,MAAM,EAAE,KAAT;AAAgBC,QAAAA,MAAM,EAAE;AAAxB,OAAd;AACH;;AACD,QAAI,SAASI,IAAT,CAAcD,IAAd,CAAJ,EAAwB;AACpB,WAAKE,QAAL,CAAc;AAACN,QAAAA,MAAM,EAAC,IAAR;AAAaC,QAAAA,MAAM,EAAC;AAApB,OAAd;AACH;AACJ;;AACDM,EAAAA,yBAAyB,CAACC,SAAD,EAAW;AAChCC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBF,SAAS,CAACG,QAAV,CAAmBC,QAArC,EADgC,CACe;;AAC/C,QAAIR,IAAI,GAAII,SAAS,CAACG,QAAV,CAAmBC,QAA/B;AACA,SAAKT,SAAL,CAAeC,IAAf;AACH;;AACDS,EAAAA,iBAAiB,GAAE;AACf,QAAIT,IAAI,GAAI,KAAKU,KAAL,CAAWH,QAAX,CAAoBC,QAAhC;AACA,SAAKT,SAAL,CAAeC,IAAf;AACH;;AAEDW,EAAAA,MAAM,GAAE;AACJ,WACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKhB,KAAL,CAAWG,OAAX,IAAsB,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD3B,EAEK,KAAKH,KAAL,CAAWC,MAAX,IAAqB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAF1B,EAMI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,SAAS,EAAEX,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAsB,MAAA,SAAS,EAAEC,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAsB,MAAA,SAAS,EAAEC,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,SAAS,EAAEC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAEC,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAMI,oBAAC,QAAD;AAAU,MAAA,KAAK,MAAf;AAAgB,MAAA,IAAI,EAAC,OAArB;AAA6B,MAAA,SAAS,EAAEC,IAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,EAOI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAsB,MAAA,SAAS,EAAEJ,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,EAQI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,YAAZ;AAAyB,MAAA,SAAS,EAAEK,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,EASI,oBAAC,QAAD;AAAU,MAAA,KAAK,MAAf;AAAgB,MAAA,IAAI,EAAC,GAArB;AAAyB,MAAA,EAAE,EAAC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,EAUI,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAEC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,CANJ,EAoBK,KAAKG,KAAL,CAAWE,MAAX,IAAqB,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKa,KAAL,CAAWE,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApB1B,CADJ;AA0BH;;AA1DqC","sourcesContent":["import React, {Component} from 'react'\r\nimport {Link,NavLink,Route,Redirect,Switch} from \"react-router-dom\";\r\n\r\n//import '../library/font'\r\nimport '../assets/css/base.css'\r\nimport Header from './Header';\r\nimport Footer from \"./Footer\";\r\nimport '../assets/css/app.scss';\r\n\r\n\r\nimport AuthUser from '../routes/authuser'\r\nimport Home from \"../pages/Home\";\r\nimport Follow from \"../pages/Follow\";\r\nimport Column from \"../pages/Column\";\r\nimport Login from \"../pages/Login\";\r\nimport Reg from \"../pages/Reg\";\r\nimport User from \"../pages/User\";\r\nimport Detail from \"../pages/Detail\";\r\nimport ErrorPage from \"../pages/ErrorPage\";\r\nimport Loading from \"../component/Loading/Loading\"\r\n\r\nexport default class App extends Component{\r\n    state = {\r\n        header:true,\r\n        footer:true,\r\n        loading:false\r\n    };\r\n\r\n    checkPath(path){\r\n        if (/Home/.test(path)){\r\n            this.setState({header:true,footer:true})\r\n        }\r\n        if (/[^home$]/.test(path)){\r\n            this.setState({header:false,footer:false})\r\n        }\r\n        if (/User|Follow|Column/.test(path)) {\r\n            this.setState({header: false, footer: true})\r\n        }\r\n        if (/Detail/.test(path)){\r\n            this.setState({header:true,footer:false})\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        console.log('app',nextProps.location.pathname);//监听路由\r\n        let path  = nextProps.location.pathname;\r\n        this.checkPath(path)\r\n    }\r\n    componentDidMount(){\r\n        let path  = this.props.location.pathname;\r\n        this.checkPath(path)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"App\">\r\n                {this.state.loading && <Loading/>}\r\n                {this.state.header && <Header/> }\r\n\r\n\r\n\r\n                <Switch>\r\n                    <Route path=\"/home\" component={Home} />\r\n                    <Route path=\"/follow\" component={Follow}/>\r\n                    <Route path=\"/column\" component={Column}/>\r\n                    <Route path=\"/login\" component={Login}/>\r\n                    <Route path=\"/Reg\" component={Reg}/>\r\n                    <AuthUser Route path=\"/user\" component={User}/>\r\n                    <Route path=\"/follow\" component={Follow}/>\r\n                    <Route path=\"/detail:id\" component={Detail}/>\r\n                    <Redirect exact from=\"/\" to=\"/home\"/>\r\n                    <Route component={ErrorPage} />\r\n\r\n\r\n                </Switch>\r\n                {this.state.footer && <Footer history={this.props.history}/>}\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}